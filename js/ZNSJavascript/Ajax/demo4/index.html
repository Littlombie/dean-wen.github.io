<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Ajax</title>
    <script src="../ajax.js"></script>
    <script>
    window.onload = function() {
        var oBtn = document.getElementById('btn');
        var oUl = document.getElementById('ul1');
        oBtn.onclick = function() {
            ajax('test.txt?t=' + new Date().getTime(), function(str) {
                var arr = eval(str);
                for (var i = 0; i < arr.length; i++) {
                    var oLi = document.createElement('li');
                    oLi.innerHTML = "用户名：<strong>" + arr[i].user + '</strong> 密码：<span>' + arr[i].pass + '</span>';
                    oUl.appendChild(oLi);
                }
            }, function() {
                alert('请求失败');
            });
        }
    }
    </script>
</head>

<body>
    <input id="btn" type="button" value="按钮">
    <ul id="ul1">
    </ul>
</body>

</html>
