<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>面向对象实现选项卡</title>
    <style>
    #div1>div {
        display: none;
        width: 300px;
        height: 300px;
        margin-top: 20px;
        background: #ccc;
    }
    
    input {
        border: 1px solid #fff;
        cursor: pointer;
    }
    
    input.active {
        background: yellow;
    }
    </style>
    <script>
    // 之前的选项卡
    // window.onload = function() {
    //     var oDiv = document.getElementById('div1');
    //     var aBtn = oDiv.getElementsByTagName('input');
    //     var aDiv = oDiv.getElementsByTagName('div');
    //     for (var i = 0; i < aBtn.length; i++) {
    //         aBtn[i].index = i;
    //         aBtn[i].onclick = function() {
    //             for (var i = 0; i < aBtn.length; i++) {
    //                 aBtn[i].className = '';
    //                 aDiv[i].style.display = 'none';
    //             }
    //             this.className = 'active';
    //             aDiv[this.index].style.display = 'block';
    //         }
    //     }
    // }
    window.onload = function(){
    	new TabSwitch('div1');
    }
    // 把onload变成构造函数
    function TabSwitch(id) {
    	var _this = this;
        var oDiv = document.getElementById(id);
        this.aBtn = oDiv.getElementsByTagName('input');
        this.aDiv = oDiv.getElementsByTagName('div');
        for (var i = 0; i < this.aBtn.length; i++) {
            this.aBtn[i].index = i;
            this.aBtn[i].onclick =function(){
            	_this.fnClick(this);
            };
        }
    }
    // 让函数变成方法
   TabSwitch.prototype.fnClick = function(aBtn) {
        for (var i = 0; i <this.aBtn.length; i++) {
            this.aBtn[i].className = '';
            this.aDiv[i].style.display = 'none';
        }
        aBtn.className = 'active';
        this.aDiv[aBtn.index].style.display = 'block';
    }
    </script>
</head>

<body>
    <div id="div1">
        <input class="active" type="button" value="aaa">
        <input type="button" value="bbb">
        <input type="button" value="ccc">
        <div style="display:block">sss</div>
        <div>ssddddds</div>
        <div>sddddddddss</div>
    </div>
</body>

</html>
